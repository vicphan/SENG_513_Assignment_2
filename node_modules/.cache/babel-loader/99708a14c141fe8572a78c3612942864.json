{"ast":null,"code":"var _jsxFileName = \"/Users/vicphan/Projects/SENG_513/SENG_513_Assignment_2/src/pages/components/game.js\";\nimport Board from \"./board\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.player_color = [\"blue\", \"green\", \"red\"];\n    this.state = {\n      player_turn: 1,\n      step: 1,\n      board: Array(24).fill(null),\n      score: Array(3).fill(0)\n    };\n  }\n  calculateBoxFilled(board, index) {\n    const winning_indices = [[0, 3, 4, 7], [1, 4, 5, 8], [2, 5, 6, 9], [7, 10, 11, 14], [8, 11, 12, 15], [9, 12, 13, 16], [14, 17, 18, 21], [15, 18, 19, 22], [16, 19, 20, 23]];\n    for (let i = 0; i < winning_indices.length; i++) {\n      if (winning_indices[i].includes(index)) {\n        const player = board[index];\n        for (let j = 0; j < winning_indices[i].length; j++) {\n          console.log(board[winning_indices[j]]);\n          if (board[winning_indices[j]] !== player) {\n            return null;\n          }\n        }\n        return i;\n      }\n    }\n    return null;\n  }\n  handleClick(i) {\n    //console.log(\"click \"+i);\n    if (this.state.board.at(i) !== null) {\n      return;\n    }\n    this.changeLineColor(i);\n    let board = this.state.board.slice();\n    let score = this.state.score.slice();\n    board[i] = this.state.player_turn;\n    const step = this.state.step + 1;\n    const box_filled = this.calculateBoxFilled(board, i);\n    if (box_filled !== null) {\n      this.displayBoxColor(box_filled);\n      score[this.state.player_turn - 1] += 1;\n    }\n    let player_turn = this.state.player_turn + 1;\n    if (player_turn % 4 === 0) {\n      player_turn = 1;\n    }\n    this.setState({\n      player_turn: player_turn,\n      step: step,\n      board: board,\n      score: score\n    });\n  }\n  displayLineColor() {\n    let css_h_line = \".h_line:hover{ background-color: \" + this.player_color[this.state.player_turn - 1] + \" }\";\n    let css_v_line = \".v_line:hover{ background-color: \" + this.player_color[this.state.player_turn - 1] + \" }\";\n    let style = document.createElement('style');\n    style.appendChild(document.createTextNode(css_h_line));\n    style.appendChild(document.createTextNode(css_v_line));\n    document.getElementsByTagName('head')[0].appendChild(style);\n  }\n  displayBoxColor(index) {\n    if (document.getElementById(\"empty_box_\" + index)) {\n      document.getElementById(\"empty_box_\" + index).style.backgroundColor = this.player_color[this.state.player_turn - 1];\n    } else {\n      let css = \"#empty_box_\" + index + \"{ background-color: \" + this.player_color[this.state.player_turn - 1] + \" }\";\n      let style = document.createElement('style');\n      style.appendChild(document.createTextNode(css));\n      document.getElementsByTagName('head')[0].appendChild(style);\n    }\n  }\n  changeLineColor(index) {\n    document.getElementById(\"line_\" + index).style.backgroundColor = this.player_color[this.state.player_turn - 1];\n  }\n  render() {\n    let status = \"Player turn: \" + this.state.player_turn;\n    let display_score = \"Player 1: \" + this.state.score[0] + \" Player 2: \" + this.state.score[1] + \" Player 3: \" + this.state.score[2];\n    this.displayLineColor();\n    const empty_box_ids = [[\"empty_box_0\", \"empty_box_1\", \"empty_box_2\"], [\"empty_box_3\", \"empty_box_4\", \"empty_box_5\"], [\"empty_box_6\", \"empty_box_7\", \"empty_box_8\"]];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: display_score\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Board, {\n        empty_box_ids: empty_box_ids,\n        handleClick: this.handleClick.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default Game;","map":{"version":3,"names":["Board","React","Game","Component","constructor","props","player_color","state","player_turn","step","board","Array","fill","score","calculateBoxFilled","index","winning_indices","i","length","includes","player","j","console","log","handleClick","at","changeLineColor","slice","box_filled","displayBoxColor","setState","displayLineColor","css_h_line","css_v_line","style","document","createElement","appendChild","createTextNode","getElementsByTagName","getElementById","backgroundColor","css","render","status","display_score","empty_box_ids","bind"],"sources":["/Users/vicphan/Projects/SENG_513/SENG_513_Assignment_2/src/pages/components/game.js"],"sourcesContent":["import Board from \"./board\";\nimport React from \"react\";\n\nclass Game extends React.Component{\n    constructor(props){\n        super(props);\n        this.player_color = [\"blue\", \"green\", \"red\"];\n        this.state = {\n            player_turn: 1,\n            step: 1,\n            board: Array(24).fill(null),\n            score: Array(3).fill(0)\n        }\n    }\n\n    calculateBoxFilled(board, index) {\n        const winning_indices = [\n            [0, 3, 4, 7],\n            [1, 4, 5, 8],\n            [2, 5, 6, 9],\n            [7, 10, 11, 14],\n            [8, 11, 12, 15],\n            [9, 12, 13, 16],\n            [14, 17, 18, 21],\n            [15, 18, 19, 22],\n            [16, 19, 20, 23]\n        ]\n    \n        for (let i = 0; i< winning_indices.length; i++){\n            if (winning_indices[i].includes(index)){\n                const player = board[index];\n                for (let j = 0; j< winning_indices[i].length; j++){\n                    console.log(board[winning_indices[j]]);\n                    if (board[winning_indices[j]] !== player){\n                        return null;\n                    }\n                }\n                return i;\n            }\n        }\n\n        return null;\n    }\n\n    handleClick(i){\n        //console.log(\"click \"+i);\n        if (this.state.board.at(i) !== null){\n            return;\n        }\n        this.changeLineColor(i);\n        let board = this.state.board.slice();\n        let score = this.state.score.slice();\n        board[i] = this.state.player_turn;\n        const step = this.state.step +1;\n        const box_filled = this.calculateBoxFilled(board, i);\n        if (box_filled !== null){\n            this.displayBoxColor(box_filled);\n            score[this.state.player_turn-1] += 1;\n        }\n        let player_turn = this.state.player_turn + 1;\n        if (player_turn % 4 === 0){\n            player_turn = 1;\n        }\n        this.setState({\n            player_turn: player_turn,\n            step: step,\n            board: board,\n            score: score\n        }\n        )\n    }\n\n    displayLineColor(){\n        let css_h_line = \".h_line:hover{ background-color: \"+ this.player_color[this.state.player_turn-1] + \" }\";\n        let css_v_line = \".v_line:hover{ background-color: \"+ this.player_color[this.state.player_turn-1] + \" }\";\n        \n        let style = document.createElement('style');\n\n        style.appendChild(document.createTextNode(css_h_line));\n        style.appendChild(document.createTextNode(css_v_line));\n\n        document.getElementsByTagName('head')[0].appendChild(style);\n    }\n\n    displayBoxColor(index){\n        if (document.getElementById(\"empty_box_\"+index)){\n            document.getElementById(\"empty_box_\"+index).style.backgroundColor = this.player_color[this.state.player_turn-1];\n        }\n        else{\n            let css = \"#empty_box_\" + index + \"{ background-color: \"+this.player_color[this.state.player_turn-1] + \" }\";\n            let style = document.createElement('style');\n\n            style.appendChild(document.createTextNode(css));\n            document.getElementsByTagName('head')[0].appendChild(style);\n        }\n        \n    }\n\n    changeLineColor(index){\n        document.getElementById(\"line_\"+index).style.backgroundColor = this.player_color[this.state.player_turn-1];\n    }\n\n    render(){\n        let status = \"Player turn: \" + this.state.player_turn;\n        let display_score = \"Player 1: \"+this.state.score[0] + \" Player 2: \"+this.state.score[1] + \" Player 3: \"+this.state.score[2]\n        this.displayLineColor();\n\n        const empty_box_ids = [\n            [\"empty_box_0\", \"empty_box_1\", \"empty_box_2\"],\n            [\"empty_box_3\", \"empty_box_4\", \"empty_box_5\"],\n            [\"empty_box_6\", \"empty_box_7\", \"empty_box_8\"]\n        ]\n\n        return(\n            <div>\n                <div>{status}</div>\n                <div>{display_score}</div>\n                <Board empty_box_ids={empty_box_ids} handleClick={this.handleClick.bind(this)}/>\n            </div>\n        );\n    }\n}\n\nexport default Game;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,SAAS;AAC3B,OAAOC,KAAK,MAAM,OAAO;AAAC;AAE1B,MAAMC,IAAI,SAASD,KAAK,CAACE,SAAS;EAC9BC,WAAW,CAACC,KAAK,EAAC;IACd,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,YAAY,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC;IAC5C,IAAI,CAACC,KAAK,GAAG;MACTC,WAAW,EAAE,CAAC;MACdC,IAAI,EAAE,CAAC;MACPC,KAAK,EAAEC,KAAK,CAAC,EAAE,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;MAC3BC,KAAK,EAAEF,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAC1B,CAAC;EACL;EAEAE,kBAAkB,CAACJ,KAAK,EAAEK,KAAK,EAAE;IAC7B,MAAMC,eAAe,GAAG,CACpB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACZ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACZ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EACZ,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACf,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACf,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EACf,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAChB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAChB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CACnB;IAED,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAED,eAAe,CAACE,MAAM,EAAED,CAAC,EAAE,EAAC;MAC3C,IAAID,eAAe,CAACC,CAAC,CAAC,CAACE,QAAQ,CAACJ,KAAK,CAAC,EAAC;QACnC,MAAMK,MAAM,GAAGV,KAAK,CAACK,KAAK,CAAC;QAC3B,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAEL,eAAe,CAACC,CAAC,CAAC,CAACC,MAAM,EAAEG,CAAC,EAAE,EAAC;UAC9CC,OAAO,CAACC,GAAG,CAACb,KAAK,CAACM,eAAe,CAACK,CAAC,CAAC,CAAC,CAAC;UACtC,IAAIX,KAAK,CAACM,eAAe,CAACK,CAAC,CAAC,CAAC,KAAKD,MAAM,EAAC;YACrC,OAAO,IAAI;UACf;QACJ;QACA,OAAOH,CAAC;MACZ;IACJ;IAEA,OAAO,IAAI;EACf;EAEAO,WAAW,CAACP,CAAC,EAAC;IACV;IACA,IAAI,IAAI,CAACV,KAAK,CAACG,KAAK,CAACe,EAAE,CAACR,CAAC,CAAC,KAAK,IAAI,EAAC;MAChC;IACJ;IACA,IAAI,CAACS,eAAe,CAACT,CAAC,CAAC;IACvB,IAAIP,KAAK,GAAG,IAAI,CAACH,KAAK,CAACG,KAAK,CAACiB,KAAK,EAAE;IACpC,IAAId,KAAK,GAAG,IAAI,CAACN,KAAK,CAACM,KAAK,CAACc,KAAK,EAAE;IACpCjB,KAAK,CAACO,CAAC,CAAC,GAAG,IAAI,CAACV,KAAK,CAACC,WAAW;IACjC,MAAMC,IAAI,GAAG,IAAI,CAACF,KAAK,CAACE,IAAI,GAAE,CAAC;IAC/B,MAAMmB,UAAU,GAAG,IAAI,CAACd,kBAAkB,CAACJ,KAAK,EAAEO,CAAC,CAAC;IACpD,IAAIW,UAAU,KAAK,IAAI,EAAC;MACpB,IAAI,CAACC,eAAe,CAACD,UAAU,CAAC;MAChCf,KAAK,CAAC,IAAI,CAACN,KAAK,CAACC,WAAW,GAAC,CAAC,CAAC,IAAI,CAAC;IACxC;IACA,IAAIA,WAAW,GAAG,IAAI,CAACD,KAAK,CAACC,WAAW,GAAG,CAAC;IAC5C,IAAIA,WAAW,GAAG,CAAC,KAAK,CAAC,EAAC;MACtBA,WAAW,GAAG,CAAC;IACnB;IACA,IAAI,CAACsB,QAAQ,CAAC;MACVtB,WAAW,EAAEA,WAAW;MACxBC,IAAI,EAAEA,IAAI;MACVC,KAAK,EAAEA,KAAK;MACZG,KAAK,EAAEA;IACX,CAAC,CACA;EACL;EAEAkB,gBAAgB,GAAE;IACd,IAAIC,UAAU,GAAG,mCAAmC,GAAE,IAAI,CAAC1B,YAAY,CAAC,IAAI,CAACC,KAAK,CAACC,WAAW,GAAC,CAAC,CAAC,GAAG,IAAI;IACxG,IAAIyB,UAAU,GAAG,mCAAmC,GAAE,IAAI,CAAC3B,YAAY,CAAC,IAAI,CAACC,KAAK,CAACC,WAAW,GAAC,CAAC,CAAC,GAAG,IAAI;IAExG,IAAI0B,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IAE3CF,KAAK,CAACG,WAAW,CAACF,QAAQ,CAACG,cAAc,CAACN,UAAU,CAAC,CAAC;IACtDE,KAAK,CAACG,WAAW,CAACF,QAAQ,CAACG,cAAc,CAACL,UAAU,CAAC,CAAC;IAEtDE,QAAQ,CAACI,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACF,WAAW,CAACH,KAAK,CAAC;EAC/D;EAEAL,eAAe,CAACd,KAAK,EAAC;IAClB,IAAIoB,QAAQ,CAACK,cAAc,CAAC,YAAY,GAACzB,KAAK,CAAC,EAAC;MAC5CoB,QAAQ,CAACK,cAAc,CAAC,YAAY,GAACzB,KAAK,CAAC,CAACmB,KAAK,CAACO,eAAe,GAAG,IAAI,CAACnC,YAAY,CAAC,IAAI,CAACC,KAAK,CAACC,WAAW,GAAC,CAAC,CAAC;IACnH,CAAC,MACG;MACA,IAAIkC,GAAG,GAAG,aAAa,GAAG3B,KAAK,GAAG,sBAAsB,GAAC,IAAI,CAACT,YAAY,CAAC,IAAI,CAACC,KAAK,CAACC,WAAW,GAAC,CAAC,CAAC,GAAG,IAAI;MAC3G,IAAI0B,KAAK,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MAE3CF,KAAK,CAACG,WAAW,CAACF,QAAQ,CAACG,cAAc,CAACI,GAAG,CAAC,CAAC;MAC/CP,QAAQ,CAACI,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAACF,WAAW,CAACH,KAAK,CAAC;IAC/D;EAEJ;EAEAR,eAAe,CAACX,KAAK,EAAC;IAClBoB,QAAQ,CAACK,cAAc,CAAC,OAAO,GAACzB,KAAK,CAAC,CAACmB,KAAK,CAACO,eAAe,GAAG,IAAI,CAACnC,YAAY,CAAC,IAAI,CAACC,KAAK,CAACC,WAAW,GAAC,CAAC,CAAC;EAC9G;EAEAmC,MAAM,GAAE;IACJ,IAAIC,MAAM,GAAG,eAAe,GAAG,IAAI,CAACrC,KAAK,CAACC,WAAW;IACrD,IAAIqC,aAAa,GAAG,YAAY,GAAC,IAAI,CAACtC,KAAK,CAACM,KAAK,CAAC,CAAC,CAAC,GAAG,aAAa,GAAC,IAAI,CAACN,KAAK,CAACM,KAAK,CAAC,CAAC,CAAC,GAAG,aAAa,GAAC,IAAI,CAACN,KAAK,CAACM,KAAK,CAAC,CAAC,CAAC;IAC5H,IAAI,CAACkB,gBAAgB,EAAE;IAEvB,MAAMe,aAAa,GAAG,CAClB,CAAC,aAAa,EAAE,aAAa,EAAE,aAAa,CAAC,EAC7C,CAAC,aAAa,EAAE,aAAa,EAAE,aAAa,CAAC,EAC7C,CAAC,aAAa,EAAE,aAAa,EAAE,aAAa,CAAC,CAChD;IAED,oBACI;MAAA,wBACI;QAAA,UAAMF;MAAM;QAAA;QAAA;QAAA;MAAA,QAAO,eACnB;QAAA,UAAMC;MAAa;QAAA;QAAA;QAAA;MAAA,QAAO,eAC1B,QAAC,KAAK;QAAC,aAAa,EAAEC,aAAc;QAAC,WAAW,EAAE,IAAI,CAACtB,WAAW,CAACuB,IAAI,CAAC,IAAI;MAAE;QAAA;QAAA;QAAA;MAAA,QAAE;IAAA;MAAA;MAAA;MAAA;IAAA,QAC9E;EAEd;AACJ;AAEA,eAAe7C,IAAI"},"metadata":{},"sourceType":"module"}